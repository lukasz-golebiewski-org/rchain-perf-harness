Performance Testing Contracts
=============================

The rholang contracts in this directory are used to test the performance of the RChain platform under various load profiles. The profile of each contract is described here briefly. It is useful to predict the expected number of comm events manually so that when performance results are surprising data can be compared with expectations in a meaningful way.

`dupe.rho`
--------
Takes a paramater `n`. Produces O(10^n) comm events all on the same public channel.

Comm breakdown:
10^n + 10^(n - 1) + ... + 10^1 + 10 ^ 0

`wide.rho`
----------
Takes a parameter `n`. Iteratively accumulates a process of n send-receive pairs then runs them.

Comm breakdown:
1 to pass the parameter `n`
n + 1 all on the same channel to setup the accumulated process
n on unique channels to reduce the accumulated process

The files wide_a_setup.rho and wide_b_run.rho each represent the two portions of this test.

`intdupe.rho`
--------
Takes a parameter `n`.  Produces O(2^n) comm events. Similar to `dupe.rho` in that it exhibits exponential growth, but different in that many comms are on unique channels, and the growth is base 2 rather than base 10. Similar to `wide.rho` in that there are distinct setup and execution phases, but different in that those phases run concurrently.

Comm breakdown:
1 to pass the parameter `n`
2^(n-1) all on the same channel
2^n on unique channels

`bruteForce` directory
------------
The files in this folder are trivial files with lots of duplicated or nearly duplicated lines. They are generated by the script at `bruteForce/makeRholang.js`.

They are all parametric in parameters
* `n` number of comms
* `m` size of message data being sent (rhostring)
* `c` size of continuation ground term (rhostring)

### `uniqueChannels.rho`
`n` linear sends parred with `n` single receives all over unique public channels. This is the only brute force file that uses unique channels.

### `bothLinear.rho`
`n` linear sends parred with `n` single receives all over the same channel.

### `persistentListen.rho`
`n` linear sends parred with a single persistent listen on the same public channel.

### `persistentSend.rho`
A single persistent send parred with `n` linear listens on the same public channel.

### `contract.rho`
`n` linear sends parred with a single `contract` on the same public channel. Performance should be identical to `persistentListen.rho` because `contract` is just syntactic sugar. But it's always best to test.
